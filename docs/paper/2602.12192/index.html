<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æŸ¥è©¢ç„¦é»å’Œè¨˜æ†¶æ„ŸçŸ¥é‡æ’å™¨ç”¨æ–¼é•·æ–‡æœ¬è™•ç† â€” HF Papers ç¹ä¸­</title>
  <link rel="stylesheet" href="../../assets/style.css">
  
</head>
<body>
  <header class="site-header">
    <div class="container">
      <a href="../../index.html" class="site-logo">ğŸ“„ HF Papers ç¹ä¸­</a>
      <nav>
        <a href="../../index.html">é¦–é </a>
        <a href="https://huggingface.co/papers" target="_blank" rel="noopener">HuggingFace</a>
      </nav>
    </div>
  </header>

  <main class="container">
    

<div class="paper-page-header">
  <a href="../../2026-02-25/index.html" style="font-size:0.85rem; color:var(--text-muted);">
    â† 2026-02-25 è«–æ–‡åˆ—è¡¨
  </a>
  <h1 style="margin-top:0.75rem;">æŸ¥è©¢ç„¦é»å’Œè¨˜æ†¶æ„ŸçŸ¥é‡æ’å™¨ç”¨æ–¼é•·æ–‡æœ¬è™•ç†</h1>
  
  <div class="en-title">Query-focused and Memory-aware Reranker for Long Context Processing</div>
  

  <div class="paper-meta">
    
    <span>Yuqing Li, Jiangnan Li, Mo Yu, Guoxuan Ding, Zheng Lin, Weiping Wang, Jie Zhou</span>
    
    <span>arXiv: <a href="https://arxiv.org/abs/2602.12192" target="_blank">2602.12192</a></span>
  </div>

  <div class="paper-links">
    <a href="https://arxiv.org/pdf/2602.12192" target="_blank" rel="noopener" class="btn btn-primary">PDF åŸæ–‡</a>
    <a href="https://arxiv.org/abs/2602.12192" target="_blank" rel="noopener" class="btn btn-outline">arXiv é é¢</a>
    <a href="https://huggingface.co/papers/2602.12192" target="_blank" rel="noopener" class="btn btn-outline">HF é é¢</a>
  </div>

  <div class="tags">
    <span class="tag domain">NLP</span>
    <span class="tag method">Transformer</span><span class="tag method">Attention Mechanism</span><span class="tag method">Reranking</span>
    <span class="tag task">Information Retrieval</span><span class="tag task">Passage Ranking</span><span class="tag task">Question Answering</span>
    
  </div>
</div>

<!-- Abstract -->
<div class="abstract-box">
  <h2>æ‘˜è¦</h2>
  <p># è«–æ–‡æ‘˜è¦ç¿»è­¯

åŸºæ–¼å°å¤§å‹èªè¨€æ¨¡å‹ä¸­æª¢ç´¢é ­ï¼ˆretrieval headsï¼‰çš„ç¾æœ‰åˆ†æï¼Œæˆ‘å€‘æå‡ºäº†ä¸€å€‹æ›¿ä»£æ€§çš„é‡æ’åºæ¡†æ¶ï¼Œè©²æ¡†æ¶è¨“ç·´æ¨¡å‹ä½¿ç”¨æ‰€é¸é ­éƒ¨çš„æ³¨æ„åŠ›åˆ†æ•¸ä¾†ä¼°è¨ˆæ®µè½-æŸ¥è©¢çš„ç›¸é—œæ€§ã€‚é€™ç¨®æ–¹æ³•æä¾›äº†ä¸€å€‹åˆ—è¡¨å¼è§£æ±ºæ–¹æ¡ˆï¼Œåœ¨æ’åºéç¨‹ä¸­å……åˆ†åˆ©ç”¨æ•´å€‹å€™é¸åˆ—è¡¨ä¸­çš„æ•´é«”è³‡è¨Šã€‚åŒæ™‚ï¼Œå®ƒè‡ªç„¶åœ°ç”¢ç”Ÿé€£çºŒçš„ç›¸é—œæ€§åˆ†æ•¸ï¼Œèƒ½å¤ åœ¨ä»»æ„æª¢ç´¢è³‡æ–™é›†ä¸Šé€²è¡Œè¨“ç·´ï¼Œç„¡éœ€ä¾è³´ Likert é‡è¡¨ç›£ç£ã€‚æˆ‘å€‘çš„æ¡†æ¶è¼•é‡ä¸”æœ‰æ•ˆï¼Œåªéœ€è¦å°è¦æ¨¡æ¨¡å‹ï¼ˆä¾‹å¦‚ 4B åƒæ•¸ï¼‰å³å¯é”åˆ°å¼·å¤§çš„æ€§èƒ½ã€‚å»£æ³›çš„å¯¦é©—è¡¨æ˜ï¼Œæˆ‘å€‘çš„æ–¹æ³•åœ¨å¤šå€‹é ˜åŸŸï¼ˆåŒ…æ‹¬ç¶­åŸºç™¾ç§‘å’Œé•·æ•˜è¿°è³‡æ–™é›†ï¼‰ä¸Šå„ªæ–¼ç¾æœ‰çš„æœ€å…ˆé€²çš„é€é»å¼å’Œåˆ—è¡¨å¼é‡æ’åºå™¨ã€‚å®ƒé€²ä¸€æ­¥åœ¨ LoCoMo åŸºæº–ä¸Šå»ºç«‹äº†æ–°çš„æœ€å…ˆé€²çµæœï¼Œè©²åŸºæº–è©•ä¼°å°è©±ç†è§£å’Œè¨˜æ†¶ä½¿ç”¨çš„èƒ½åŠ›ã€‚æˆ‘å€‘é€²ä¸€æ­¥å±•ç¤ºäº†æˆ‘å€‘çš„æ¡†æ¶æ”¯æŒéˆæ´»çš„æ“´å±•ã€‚ä¾‹å¦‚ï¼Œç”¨ä¸Šä¸‹æ–‡è³‡è¨Šå¢å¼·å€™é¸æ®µè½é€²ä¸€æ­¥æé«˜äº†æ’åºæº–ç¢ºæ€§ï¼Œè€Œå¾ä¸­é–“å±¤è¨“ç·´æ³¨æ„åŠ›é ­å¢å¼·äº†æ•ˆç‡ï¼ŒåŒæ™‚ä¸çŠ§ç‰²æ€§èƒ½ã€‚</p>
  
  <div class="abstract-en">Built upon the existing analysis of retrieval heads in large language models, we propose an alternative reranking framework that trains models to estimate passage-query relevance using the attention scores of selected heads. This approach provides a listwise solution that leverages holistic information within the entire candidate shortlist during ranking. At the same time, it naturally produces continuous relevance scores, enabling training on arbitrary retrieval datasets without requiring Likert-scale supervision. Our framework is lightweight and effective, requiring only small-scale models (e.g., 4B parameters) to achieve strong performance. Extensive experiments demonstrate that our method outperforms existing state-of-the-art pointwise and listwise rerankers across multiple domains, including Wikipedia and long narrative datasets. It further establishes a new state-of-the-art on the LoCoMo benchmark that assesses the capabilities of dialogue understanding and memory usage. We further demonstrate that our framework supports flexible extensions. For example, augmenting candidate passages with contextual information further improves ranking accuracy, while training attention heads from middle layers enhances efficiency without sacrificing performance.</div>
  
</div>

<!-- Full paper content -->
<div class="paper-body">
  
    
      <figure class="paper-figure">
        <img src="../../figures/2026-02-25/2602.12192/p4_fig1.png"
             alt="Figure 1" loading="lazy">
      </figure>
    
  
    
      <p><em>åœ– 2ï¼šQRRanker çš„çµæ§‹å¦‚ä¸­é–“æ‰€ç¤ºï¼Œå…¶ä¸­é«˜äº®çš„é ­éƒ¨æ˜¯ç”¨æ–¼æ–‡ä»¶è©•åˆ†çš„ QR é ­ã€‚ç”±æ–¼ QRRanker èƒ½å¤ åˆ©ç”¨è¨˜æ†¶å¢å¼·ä¾†æ•æ‰æ›´å¤šä¸Šä¸‹æ–‡è³‡è¨Šï¼Œæˆ‘å€‘å¯ä»¥ç‚ºæ•˜è¿°æ–‡å’Œå°è©±æ§‹å»ºè¨˜æ†¶ï¼Œå¦‚å·¦å´æ‰€ç¤ºã€‚å³å´éƒ¨åˆ†å±•ç¤ºäº†ç”¨æ–¼æ•˜è¿°æ–‡/ç¶­åŸº/å°è©±çš„ QA æ’åº-é‡æ’åºæµç¨‹ï¼Œæ¶‰åŠçš„è¨­è¨ˆä¸¦ä¸è¤‡é›œã€‚</em></p>
    
  
    
      <p>åœ¨å»ºç«‹è­‰æ“šå¾Œï¼Œæˆ‘å€‘ä½¿ç”¨ Wen3-Embedding-8B ç‚ºæ¯å€‹å•é¡Œæª¢ç´¢å‰ 50 å€‹å€™é¸æ–‡ä»¶ï¼Œä¸¦é€šéå°‡æª¢ç´¢åˆ°çš„å€™é¸æ–‡ä»¶ä¸­èˆ‡é å…ˆæ§‹å»ºçš„è­‰æ“šåŒ¹é…çš„æ¨™è¨˜ç‚ºæ­£æ¨£æœ¬ï¼Œè€Œå°‡å…¶é¤˜çš„æª¢ç´¢å€™é¸æ–‡ä»¶è¦–ç‚ºè² æ¨£æœ¬ï¼Œä¾†å½¢æˆåˆ—è¡¨å¼å¯¦ä¾‹ã€‚</p>
    
  
    
      <p>æˆ‘å€‘å¯ä»¥é¸æ“‡æ€§åœ°é€šéå°‡æª¢ç´¢åˆ°çš„å¡Šæ˜ å°„åˆ°ç›¸æ‡‰çš„æ‘˜è¦ä¾†æ§‹å»º*æ‘˜è¦å‰ç¶´*ï¼Œä¸¦å°‡é€™äº›æ‘˜è¦æ·»åŠ åœ¨å¡Šåˆ—è¡¨ä¹‹å‰ï¼Œå³ X = [M; C]ã€‚æ¼”ç®—æ³• 1 ç¸½çµäº† NarrativeQA ä¸Šçš„é€™å€‹æ§‹å»ºéç¨‹ï¼›MuSiQue éµå¾ªç›¸åŒçš„ç¨‹åºï¼Œé™¤äº†ç›¸é—œè­‰æ“šç›´æ¥ä¾†è‡ªå…¶å®˜æ–¹æ”¯æŒäº‹å¯¦ã€‚æˆ‘å€‘åœ¨ä¸‹ä¸€å°ç¯€ä¸­æè¿°æ‘˜è¦çš„æ§‹å»ºæ–¹å¼ã€‚</p>
    
  
    
      <h2>4.1.2 æ‘˜è¦æ§‹å»º</h2>
    
  
    
      <p>ç‚ºäº†æä¾›é«˜ç´šèªç¾©æŒ‡å°ä¸¦æ”¯æŒé•·ä¸Šä¸‹æ–‡æ•˜è¿°æ–‡ç†è§£ï¼Œæˆ‘å€‘å°‡æ‘˜è¦æ§‹å»ºç‚ºè¼”åŠ©è¨˜æ†¶ä¸Šä¸‹æ–‡ã€‚ä½¿ç”¨æ™‚ï¼Œæ‘˜è¦æœƒä½œç‚ºå…¨å±€å‰ç¶´æ·»åŠ åˆ°æª¢ç´¢åˆ°çš„å¡Šåˆ—è¡¨å‰é¢ï¼Œä»¥ä¾¿æ¨¡å‹èƒ½å¤ åŒæ™‚åˆ©ç”¨ç²—ç²’åº¦ä¸Šä¸‹æ–‡å’Œç´°ç²’åº¦è­‰æ“šã€‚æˆ‘å€‘æ¢ç´¢å…©ç¨®äº’è£œçš„æ‘˜è¦æ§‹å»ºç­–ç•¥ã€‚</p>
    
  
    
      <p>**åŸºæ–¼å¡Šçš„æ‘˜è¦ã€‚** å°æ–¼é•·ç¯‡æ•˜è¿°æ€§æ›¸ç±ï¼Œæˆ‘å€‘æ§‹å»ºå°Šé‡æ•˜äº‹é †åºæ€§è³ªçš„å¡Šç´šæ‘˜è¦ã€‚å…·é«”ä¾†èªªï¼Œæˆ‘å€‘å°‡æ¯éƒ¨æ›¸ç±åˆ†æˆå¡Šï¼ˆæ¯å€‹å¡Š 20 å€‹é€£çºŒçš„å¡Šï¼‰ï¼Œä¸¦ç‚ºæ¯å€‹å¡Šç”Ÿæˆä¸€å€‹æ‘˜è¦ã€‚ï¼ˆè¦‹é™„éŒ„ A.1ï¼‰</p>
    
  
    
      <p>**ä»¥äº‹ä»¶ç‚ºä¸­å¿ƒçš„æ‘˜è¦ã€‚** å°æ–¼åŸºæ–¼å°è©±çš„è³‡æ–™ï¼Œæˆ‘å€‘å¾å°è©±ä¸­æå–çµæ§‹åŒ–äº‹ä»¶ä¸¦å½¢æˆä»¥äº‹ä»¶ç‚ºä¸­å¿ƒçš„æ‘˜è¦ã€‚æ¯å€‹</p>
    
  
    
      <p>äº‹ä»¶ç”±ç°¡çŸ­æè¿°è¡¨ç¤ºï¼Œä¸¦é€£çµåˆ°å…¶ä¾†æºèªå¥ï¼Œä½¿å¾—èƒ½å¤ è¿½æº¯åˆ°åŸå§‹å°è©±ã€‚ï¼ˆè¦‹é™„éŒ„ A.2ï¼‰ã€‚</p>
    
  
    
      <h2>4.2 QR è¨“ç·´</h2>
    
  
    
      <p>ç²å¾—ç”±ç¬¬ 3 ç¯€ä¸­æåˆ°çš„ QR åˆ†æ•¸é å…ˆè¨ˆç®—çš„ QR é ­å¾Œï¼Œæˆ‘å€‘çš„è¨“ç·´æ–¹æ¡ˆå°ˆæ³¨æ–¼è¨“ç·´é€™äº›é ­ã€‚å°æ–¼ä¸€å€‹å•é¡Œ *Q* å’Œç”±æª¢ç´¢å™¨ï¼ˆä¾‹å¦‚åµŒå…¥æ¨¡å‹å¦‚ Wen3-Embeddingï¼‰æ’åºçš„å‰ 50 å€‹å€™é¸æ–‡ä»¶ *C* = [*c*â‚, ..., *c*â‚…â‚€]ï¼Œå…¶ä¸­é‡‘æ¨™ç±¤ï¼ˆæ­£æ¨£æœ¬ï¼‰æ–‡ä»¶ç‚º *G* = [*c*gâ‚€, ..., *c*gm]ï¼Œè¼¸å…¥åˆ° QRRanker çš„æç¤ºè©é€šéæŒ‰é †åºé€£æ¥ *C* å’Œ *Q* ä»¥åŠä¸€äº›æŒ‡ä»¤ä¾†æ§‹å»ºï¼š*P* = Inst(*C*, *Q*)ï¼Œå…¶ä¸­æŒ‡ä»¤æ¨¡æ¿æä¾›åœ¨é™„éŒ„ A.3 ä¸­ã€‚</p>
    
  
    
      <p>å°‡æç¤ºè© *P* è¼¸å…¥åˆ°æ¨¡å‹ä¸­ï¼Œåœ¨æ¯å€‹æ³¨æ„åŠ›é ­ä¸­ï¼Œæ³¨æ„åŠ›åˆ†æ•¸è¨ˆç®—ç‚º $A_h^{Pâ†’P}$ã€‚æˆ‘å€‘å®šä½ *Q* å’Œ *c*áµ¢ âˆˆ *C* çš„ä½ç½®ï¼Œä¸¦æå–æŸ¥è©¢èšç„¦éƒ¨åˆ† $A_h^{Qâ†’cáµ¢}$ã€‚QR é ­ *h* âˆˆ *H*QR è¨ˆç®—çš„é€šé“ *c*áµ¢ çš„æª¢ç´¢åˆ†æ•¸ç‚ºï¼š</p>
    
  
    
      <div class="formula">$$s_{c_i}^h = \frac{1}{|Q|} \sum_{i \in c_i} \sum_{j \in Q} A_h^{Q \to c_i} [i, j] \qquad (2)$$</div>
    
  
    
      <p>å…¶ä¸­åˆ†æ•¸è¨ˆç®—å¦‚åœ– 1 æ‰€ç¤ºã€‚éš¨å¾Œï¼Œæœ€çµ‚æª¢ç´¢åˆ†æ•¸æ˜¯é€éå°‡ QR heads æä¾›çš„æ‰€æœ‰åˆ†æ•¸ç›¸åŠ è€Œç²å¾—çš„ï¼š$s_{c_i} = \sum_{h \in H_{QR}} s_{c_i}^h$ã€‚æ­¤å¤–ï¼Œ$s_{c_i}^h$ ä¹Ÿå¯ä»¥é€éèšåˆæœ€å¤§æ³¨æ„åŠ›é …ä¾†è¨ˆç®—ï¼Œå¦‚ ColBERTï¼ˆKhattab and Zaharia, 2020ï¼‰ç­‰æ–¹æ³•æ‰€ä½¿ç”¨çš„æ–¹å¼ï¼Œå…¶é”åˆ°äº†ç›¸ä¼¼çš„æ•ˆèƒ½ï¼Œå› æ­¤æœ¬æ–‡ä¸åœ¨æ­¤è©³ç´°è¨è«–ã€‚</p>
    
  
</div>

  </main>

  <footer class="site-footer">
    <div class="container">
      <p>æ¯æ—¥è‡ªå‹•æŠ“å– <a href="https://huggingface.co/papers" target="_blank">HuggingFace Daily Papers</a>ï¼Œä»¥ Claude AI ç¿»è­¯ç‚ºç¹é«”ä¸­æ–‡ã€‚</p>
    </div>
  </footer>
</body>
</html>