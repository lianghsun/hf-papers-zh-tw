# 論文摘要翻譯

大型語言模型（LLMs）的需求不斷增長，要求服務系統能夠處理多個並行請求並滿足不同的服務等級目標（SLOs）。這加劇了計算密集型預填充（prefill）階段的隊首阻塞（HoL blocking）問題，其中長時間運行的請求會佔用資源並延遲高優先級請求，導致廣泛的首令牌時間（TTFT）SLO 違規。雖然分塊預填充（chunked prefill）實現了可中斷性，但它在響應性和吞吐量之間引入了固有的權衡：減小塊大小可改善響應延遲但降低計算效率，而增加塊大小則最大化吞吐量但加劇阻塞。這要求採用自適應搶佔機制。然而，動態平衡執行粒度與調度開銷仍然是一個關鍵挑戰。

本文提出 FlowPrefill，一個針對 TTFT 和有效吞吐量（goodput）優化的服務系統，通過將搶佔粒度與調度頻率解耦來解決這一衝突。為實現自適應預填充調度，FlowPrefill 引入了兩項關鍵創新：1) **算子級搶佔**（Operator-Level Preemption），利用算子邊界實現細粒度執行中斷，而無需與固定小塊相關的效率損失；2) **事件驅動調度**（Event-Driven Scheduling），僅在請求到達或完成事件時觸發調度決策，從而支持高效的搶佔響應性，同時最小化控制平面開銷。在真實生產跡跡上的評估表明，FlowPrefill 相比最先進的系統將最大有效吞吐量提高了最多 5.6 倍，同時滿足異構 SLOs。